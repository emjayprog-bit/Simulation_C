<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Harvard Architecture</title>
  <link rel="stylesheet" href="harvard.css" />
</head>
<body>
  <header>
    <button class="back-btn" onclick="window.location.href='index.html'">‚Üê Back to Selection</button>
    <h1>Harvard Architecture</h1>
    <div class="info-container">
      <button class="info-btn" onclick="toggleInfo()">
        <span class="info-icon">‚ÑπÔ∏è</span>
        Info
      </button>
      <div class="info-dropdown" id="infoDropdown">
        <h2>Harvard Architecture</h2>
        <p>Uses separate memory spaces and buses for instructions and data, enabling parallel access.</p>
        
        <h3>Advantages</h3>
        <ul>
          <li>Simultaneous instruction and data access</li>
          <li>Higher performance and throughput</li>
          <li>No Von Neumann bottleneck</li>
        </ul>
        
        <h3>Disadvantages</h3>
        <ul>
          <li>More complex and expensive</li>
          <li>Fixed memory allocation</li>
          <li>Requires more physical space</li>
        </ul>
      </div>
    </div>
  </header>

  <main class="main-container">
    <!-- Architecture Visualization -->
    <section class="architecture">
      <h2>Architecture Visualization</h2>

      <!-- CPU + Memory + Task Record -->
      <div class="architecture-row">
        <!-- CPU -->
        <div class="card cpu">
          <h3>Central Processing Unit</h3>
          <p>Processes instructions and performs calculations</p>
          <div class="cpu-content">
            <div class="registers">
              <h4>Registers</h4>
              <p>
                <label>R1:</label>
                <input type="text" id="r1" value="0" readonly title="Register 1 Value">
              </p>
              <p>
                <label>R2:</label>
                <input type="text" id="r2" value="0" readonly title="Register 2 Value">
              </p>
              <p>
                <label>R3:</label>
                <input type="text" id="r3" value="0" readonly title="Register 3 Value">
              </p>
            </div>
            <div class="alu">
              <h4>ALU</h4>
              <p>
                <input type="text" id="alu-value" value="" readonly title="ALU Current Operation">
              </p>
            </div>
          </div>
        </div>

        <!-- Memory Units -->
        <div class="memory-section">
          <!-- Instruction Memory -->
          <div class="card memory instruction-memory">
            <div class="memory-title">
              <span class="icon">üìù</span>
              <h3>Instruction Memory</h3>
            </div>
            <p>Dedicated memory for program instructions</p>
            <div class="memory-list">
              <div class="memory-entry highlight">
                <div class="address">0:</div>
                <div class="content">LOAD R1, 100</div>
                <div class="status">‚Üê PC</div>
              </div>
              <div class="memory-entry">
                <div class="address">1:</div>
                <div class="content">LOAD R2, 200</div>
                <div class="status"></div>
              </div>
              <div class="memory-entry">
                <div class="address">2:</div>
                <div class="content">ADD R3, R1, R2</div>
                <div class="status"></div>
              </div>
              <div class="memory-entry">
                <div class="address">3:</div>
                <div class="content">STORE R3, 300</div>
                <div class="status"></div>
              </div>
            </div>
          </div>

          <!-- Data Memory -->
          <div class="card memory data-memory">
            <div class="memory-title">
              <span class="icon">üíæ</span>
              <h3>Data Memory</h3>
            </div>
            <p>Dedicated memory for program data</p>
            <div class="memory-list">
              <div class="memory-entry">
                <div class="address">100:</div>
                <div class="content">42</div>
                <div class="status"></div>
              </div>
              <div class="memory-entry">
                <div class="address">200:</div>
                <div class="content">58</div>
                <div class="status"></div>
              </div>
              <div class="memory-entry">
                <div class="address">300:</div>
                <div class="content">0</div>
                <div class="status"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Task Record -->
        <div class="card task">
          <h3>Task Record</h3>
          <label for="task-record">Simulation Tasks:</label>
          <textarea id="task-record" readonly class="task-record" title="Task Record Log">No tasks recorded yet. Start simulation to see records.</textarea>
        </div>
      </div>

      <!-- Control Buttons -->
      <div class="controls">
        <button class="control-btn play">‚ñ∂ Play</button>
        <button class="control-btn pause">‚è∏ Pause</button>
        <button class="control-btn reset">‚ü≥ Reset</button>
      </div>
    </section>

    <!-- Instruction Input Section -->
    <section class="instruction-input">
      <div class="input-grid">
        <div class="instruction-area">
          <h2>Instruction Input</h2>
          <textarea placeholder="Enter instructions (e.g., LOAD R1, 100)"></textarea>
          <div class="input-buttons">
            <button class="btn load">Load Instructions</button>
            <button class="btn reset">Reset Instructions</button>
          </div>
        </div>

        <div class="memory-input">
          <h3>Direct Memory Input</h3>
          <div class="memory-input-fields">
            <input type="text" placeholder="Address" />
            <input type="text" placeholder="Value" />
            <button class="btn set">Set</button>
          </div>
        </div>

        <div class="supported">
          <h3>Supported Instructions:</h3>
          <ul>
            <li>LOAD reg, address</li>
            <li>STORE reg, address</li>
            <li>ADD dest, src1, src2</li>
            <li>SUB dest, src1, src2</li>
            <li>MUL dest, src1, src2</li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <script>
    function toggleInfo() {
      const dropdown = document.getElementById('infoDropdown');
      dropdown.classList.toggle('show');

      // Close dropdown when clicking outside
      document.addEventListener('click', function closeDropdown(e) {
        if (!e.target.closest('.info-container')) {
          dropdown.classList.remove('show');
          document.removeEventListener('click', closeDropdown);
        }
      });
    }
  </script>
</body>
</html>
